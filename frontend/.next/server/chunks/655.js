"use strict";exports.id=655,exports.ids=[655],exports.modules={9696:e=>{let t=function(){};t.prototype=Object.create(null);let n=/; *([!#$%&'*+.^\w`|~-]+)=("(?:[\v\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\v\u0020-\u00ff])*"|[!#$%&'*+.^\w`|~-]+) */gu,r=/\\([\v\u0020-\u00ff])/gu,i=/^[!#$%&'*+.^\w|~-]+\/[!#$%&'*+.^\w|~-]+$/u,o={type:"",parameters:new t};Object.freeze(o.parameters),Object.freeze(o),e.exports.As=function(e){let a,s,c;if("string"!=typeof e)return o;let l=e.indexOf(";"),u=-1!==l?e.slice(0,l).trim():e.trim();if(!1===i.test(u))return o;let p={type:u.toLowerCase(),parameters:new t};if(-1===l)return p;for(n.lastIndex=l;s=n.exec(e);){if(s.index!==l)return o;l+=s[0].length,a=s[1].toLowerCase(),'"'===(c=s[2])[0]&&(c=c.slice(1,c.length-1),r.test(c)&&(c=c.replace(r,"$1"))),p.parameters[a]=c}return l!==e.length?o:p}},8655:(e,t,n)=>{function r(){return"object"==typeof navigator&&"userAgent"in navigator?navigator.userAgent:"object"==typeof process&&void 0!==process.version?`Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`:"<environment undetectable>"}function i(e,t,n,r){if("function"!=typeof n)throw Error("method for before hook must be a function");return(r||(r={}),Array.isArray(t))?t.reverse().reduce((t,n)=>i.bind(null,e,n,t,r),n)():Promise.resolve().then(()=>e.registry[t]?e.registry[t].reduce((e,t)=>t.hook.bind(null,e,r),n)():n(r))}function o(e,t,n,r){let i=r;e.registry[n]||(e.registry[n]=[]),"before"===t&&(r=(e,t)=>Promise.resolve().then(i.bind(null,t)).then(e.bind(null,t))),"after"===t&&(r=(e,t)=>{let n;return Promise.resolve().then(e.bind(null,t)).then(e=>i(n=e,t)).then(()=>n)}),"error"===t&&(r=(e,t)=>Promise.resolve().then(e.bind(null,t)).catch(e=>i(e,t))),e.registry[n].push({hook:r,orig:i})}function a(e,t,n){if(!e.registry[t])return;let r=e.registry[t].map(e=>e.orig).indexOf(n);-1!==r&&e.registry[t].splice(r,1)}n.d(t,{App:()=>tw});let s=Function.bind,c=s.bind(s),l={Collection:function(){let e={registry:{}},t=i.bind(null,e);return function(e,t,n){let r=c(a,null).apply(null,[t]);e.api={remove:r},e.remove=r,["before","error","after","wrap"].forEach(n=>{e[n]=e.api[n]=c(o,null).apply(null,[t,n])})}(t,e),t}};var u=`octokit-endpoint.js/0.0.0-development ${r()}`;function p(e){for(let t in e)void 0===e[t]&&delete e[t];return e}function d(e,t,n){var r;if("string"==typeof t){let[e,r]=t.split(" ");n=Object.assign(r?{method:e,url:r}:{url:e},n)}else n=Object.assign({},t);n.headers=(r=n.headers)?Object.keys(r).reduce((e,t)=>(e[t.toLowerCase()]=r[t],e),{}):{},p(n),p(n.headers);let i=function e(t,n){let r=Object.assign({},t);return Object.keys(n).forEach(i=>{(function(e){if("object"!=typeof e||null===e||"[object Object]"!==Object.prototype.toString.call(e))return!1;let t=Object.getPrototypeOf(e);if(null===t)return!0;let n=Object.prototype.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Function.prototype.call(n)===Function.prototype.call(e)})(n[i])&&i in t?r[i]=e(t[i],n[i]):Object.assign(r,{[i]:n[i]})}),r}(e||{},n);return"/graphql"===n.url&&(e&&e.mediaType.previews?.length&&(i.mediaType.previews=e.mediaType.previews.filter(e=>!i.mediaType.previews.includes(e)).concat(i.mediaType.previews)),i.mediaType.previews=(i.mediaType.previews||[]).map(e=>e.replace(/-preview/,""))),i}var h=/\{[^{}}]+\}/g;function f(e){return e.replace(/(?:^\W+)|(?:(?<!\W)\W+$)/g,"").split(/,/)}function y(e,t){let n={__proto__:null};for(let r of Object.keys(e))-1===t.indexOf(r)&&(n[r]=e[r]);return n}function g(e){return e.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e}).join("")}function m(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function _(e,t,n){return(t="+"===e||"#"===e?g(t):m(t),n)?m(n)+"="+t:t}function k(e){return null!=e}function b(e){return";"===e||"&"===e||"?"===e}function w(e,t){var n=["+","#",".","/",";","?","&"];return"/"===(e=e.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(e,r,i){if(!r)return g(i);{let e="",i=[];if(-1!==n.indexOf(r.charAt(0))&&(e=r.charAt(0),r=r.substr(1)),r.split(/,/g).forEach(function(n){var r=/([^:\*]*)(?::(\d+)|(\*))?/.exec(n);i.push(function(e,t,n,r){var i=e[n],o=[];if(k(i)&&""!==i){if("string"==typeof i||"number"==typeof i||"boolean"==typeof i)i=i.toString(),r&&"*"!==r&&(i=i.substring(0,parseInt(r,10))),o.push(_(t,i,b(t)?n:""));else if("*"===r)Array.isArray(i)?i.filter(k).forEach(function(e){o.push(_(t,e,b(t)?n:""))}):Object.keys(i).forEach(function(e){k(i[e])&&o.push(_(t,i[e],e))});else{let e=[];Array.isArray(i)?i.filter(k).forEach(function(n){e.push(_(t,n))}):Object.keys(i).forEach(function(n){k(i[n])&&(e.push(m(n)),e.push(_(t,i[n].toString())))}),b(t)?o.push(m(n)+"="+e.join(",")):0!==e.length&&o.push(e.join(","))}}else";"===t?k(i)&&o.push(m(n)):""===i&&("&"===t||"?"===t)?o.push(m(n)+"="):""===i&&o.push("");return o}(t,e,r[1],r[2]||r[3]))}),!e||"+"===e)return i.join(",");var o=",";return"?"===e?o="&":"#"!==e&&(o=e),(0!==i.length?e:"")+i.join(o)}}))?e:e.replace(/\/$/,"")}function v(e){let t,n=e.method.toUpperCase(),r=(e.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),i=Object.assign({},e.headers),o=y(e,["method","baseUrl","url","headers","request","mediaType"]),a=function(e){let t=e.match(h);return t?t.map(f).reduce((e,t)=>e.concat(t),[]):[]}(r);r=({expand:w.bind(null,r)}).expand(o),/^http/.test(r)||(r=e.baseUrl+r);let s=y(o,Object.keys(e).filter(e=>a.includes(e)).concat("baseUrl"));if(!/application\/octet-stream/i.test(i.accept)&&(e.mediaType.format&&(i.accept=i.accept.split(/,/).map(t=>t.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${e.mediaType.format}`)).join(",")),r.endsWith("/graphql")&&e.mediaType.previews?.length)){let t=i.accept.match(/(?<![\w-])[\w-]+(?=-preview)/g)||[];i.accept=t.concat(e.mediaType.previews).map(t=>{let n=e.mediaType.format?`.${e.mediaType.format}`:"+json";return`application/vnd.github.${t}-preview${n}`}).join(",")}return["GET","HEAD"].includes(n)?r=function(e,t){let n=/\?/.test(e)?"&":"?",r=Object.keys(t);return 0===r.length?e:e+n+r.map(e=>"q"===e?"q="+t.q.split("+").map(encodeURIComponent).join("+"):`${e}=${encodeURIComponent(t[e])}`).join("&")}(r,s):"data"in s?t=s.data:Object.keys(s).length&&(t=s),i["content-type"]||void 0===t||(i["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(n)&&void 0===t&&(t=""),Object.assign({method:n,url:r,headers:i},void 0!==t?{body:t}:null,e.request?{request:e.request}:null)}function T(e,t,n){return v(d(e,t,n))}var j=function e(t,n){let r=d(t,n);return Object.assign(T.bind(null,r),{DEFAULTS:r,defaults:e.bind(null,r),merge:d.bind(null,r),parse:v})}(null,{method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":u},mediaType:{format:""}}),S=n(9696);class I extends Error{name;status;request;response;constructor(e,t,n){super(e,{cause:n.cause}),this.name="HttpError",this.status=Number.parseInt(t),Number.isNaN(this.status)&&(this.status=0),"response"in n&&(this.response=n.response);let r=Object.assign({},n.request);n.request.headers.authorization&&(r.headers=Object.assign({},n.request.headers,{authorization:n.request.headers.authorization.replace(/(?<! ) .*$/," [REDACTED]")})),r.url=r.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=r}}var q={headers:{"user-agent":`octokit-request.js/10.0.7 ${r()}`}},O=()=>"";async function $(e){let t;let n=e.request?.fetch||globalThis.fetch;if(!n)throw Error("fetch is not set. Please pass a fetch implementation as new Octokit({ request: { fetch }}). Learn more at https://github.com/octokit/octokit.js/#fetch-missing");let r=e.request?.log||console,i=e.request?.parseSuccessResponseBody!==!1,o=function(e){if("object"!=typeof e||null===e||"[object Object]"!==Object.prototype.toString.call(e))return!1;let t=Object.getPrototypeOf(e);if(null===t)return!0;let n=Object.prototype.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Function.prototype.call(n)===Function.prototype.call(e)}(e.body)||Array.isArray(e.body)?JSON.stringify(e.body):e.body,a=Object.fromEntries(Object.entries(e.headers).map(([e,t])=>[e,String(t)]));try{t=await n(e.url,{method:e.method,body:o,redirect:e.request?.redirect,headers:a,signal:e.request?.signal,...e.body&&{duplex:"half"}})}catch(r){let t="Unknown Error";if(r instanceof Error){if("AbortError"===r.name)throw r.status=500,r;t=r.message,"TypeError"===r.name&&"cause"in r&&(r.cause instanceof Error?t=r.cause.message:"string"==typeof r.cause&&(t=r.cause))}let n=new I(t,500,{request:e});throw n.cause=r,n}let s=t.status,c=t.url,l={};for(let[e,n]of t.headers)l[e]=n;let u={url:c,status:s,headers:l,data:""};if("deprecation"in l){let t=l.link&&l.link.match(/<([^<>]+)>; rel="deprecation"/),n=t&&t.pop();r.warn(`[@octokit/request] "${e.method} ${e.url}" is deprecated. It is scheduled to be removed on ${l.sunset}${n?`. See ${n}`:""}`)}if(204===s||205===s)return u;if("HEAD"===e.method){if(s<400)return u;throw new I(t.statusText,s,{response:u,request:e})}if(304===s)throw u.data=await E(t),new I("Not modified",s,{response:u,request:e});if(s>=400)throw u.data=await E(t),new I(function(e){if("string"==typeof e)return e;if(e instanceof ArrayBuffer)return"Unknown error";if("message"in e){let t="documentation_url"in e?` - ${e.documentation_url}`:"";return Array.isArray(e.errors)?`${e.message}: ${e.errors.map(e=>JSON.stringify(e)).join(", ")}${t}`:`${e.message}${t}`}return`Unknown error: ${JSON.stringify(e)}`}(u.data),s,{response:u,request:e});return u.data=i?await E(t):t.body,u}async function E(e){let t=e.headers.get("content-type");if(!t)return e.text().catch(O);let n=(0,S.As)(t);if("application/json"===n.type||"application/scim+json"===n.type){let t="";try{return t=await e.text(),JSON.parse(t)}catch(e){return t}}else if(n.type.startsWith("text/")||n.parameters.charset?.toLowerCase()==="utf-8")return e.text().catch(O);else return e.arrayBuffer().catch(()=>new ArrayBuffer(0))}var A=function e(t,n){let r=t.defaults(n);return Object.assign(function(t,n){let i=r.merge(t,n);if(!i.request||!i.request.hook)return $(r.parse(i));let o=(e,t)=>$(r.parse(r.merge(e,t)));return Object.assign(o,{endpoint:r,defaults:e.bind(null,r)}),i.request.hook(o,i)},{endpoint:r,defaults:e.bind(null,r)})}(j,q),x=class extends Error{constructor(e,t,n){super(`Request failed due to following response errors:
`+n.errors.map(e=>` - ${e.message}`).join("\n")),this.request=e,this.headers=t,this.response=n,this.errors=n.errors,this.data=n.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}name="GraphqlResponseError";errors;data},U=["method","baseUrl","url","headers","request","query","mediaType","operationName"],P=["query","method","url"],z=/\/api\/v3\/?$/;function N(e,t){let n=e.defaults(t);return Object.assign((e,t)=>(function(e,t,n){if(n){if("string"==typeof t&&"query"in n)return Promise.reject(Error('[@octokit/graphql] "query" cannot be used as variable name'));for(let e in n)if(P.includes(e))return Promise.reject(Error(`[@octokit/graphql] "${e}" cannot be used as variable name`))}let r="string"==typeof t?Object.assign({query:t},n):t,i=Object.keys(r).reduce((e,t)=>(U.includes(t)?e[t]=r[t]:(e.variables||(e.variables={}),e.variables[t]=r[t]),e),{}),o=r.baseUrl||e.endpoint.DEFAULTS.baseUrl;return z.test(o)&&(i.url=o.replace(z,"/api/graphql")),e(i).then(e=>{if(e.data.errors){let t={};for(let n of Object.keys(e.headers))t[n]=e.headers[n];throw new x(i,t,e.data)}return e.data.data})})(n,e,t),{defaults:N.bind(null,n),endpoint:n.endpoint})}N(A,{headers:{"user-agent":`octokit-graphql.js/0.0.0-development ${r()}`},method:"POST",url:"/graphql"});var R="(?:[a-zA-Z0-9_-]+)",D=RegExp(`^${R}\\.${R}\\.${R}$`),C=D.test.bind(D);async function H(e){let t=C(e),n=e.startsWith("v1.")||e.startsWith("ghs_"),r=e.startsWith("ghu_");return{type:"token",token:e,tokenType:t?"app":n?"installation":r?"user-to-server":"oauth"}}async function L(e,t,n,r){let i=t.endpoint.merge(n,r);return i.headers.authorization=3===e.split(/\./).length?`bearer ${e}`:`token ${e}`,t(i)}var F=function(e){if(!e)throw Error("[@octokit/auth-token] No token passed to createTokenAuth");if("string"!=typeof e)throw Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return e=e.replace(/^(token|bearer) +/i,""),Object.assign(H.bind(null,e),{hook:L.bind(null,e)})};let K="7.0.6",B=()=>{},W=console.warn.bind(console),V=console.error.bind(console),G=`octokit-core.js/${K} ${r()}`;class J{static VERSION=K;static defaults(e){return class extends this{constructor(...t){let n=t[0]||{};if("function"==typeof e){super(e(n));return}super(Object.assign({},e,n,n.userAgent&&e.userAgent?{userAgent:`${n.userAgent} ${e.userAgent}`}:null))}}}static plugins=[];static plugin(...e){let t=this.plugins;return class extends this{static plugins=t.concat(e.filter(e=>!t.includes(e)))}}constructor(e={}){let t=new l.Collection,n={baseUrl:A.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},e.request,{hook:t.bind(null,"request")}),mediaType:{previews:[],format:""}};if(n.headers["user-agent"]=e.userAgent?`${e.userAgent} ${G}`:G,e.baseUrl&&(n.baseUrl=e.baseUrl),e.previews&&(n.mediaType.previews=e.previews),e.timeZone&&(n.headers["time-zone"]=e.timeZone),this.request=A.defaults(n),this.graphql=N(this.request,{method:"POST",url:"/graphql"}).defaults(n),this.log=function(e={}){return"function"!=typeof e.debug&&(e.debug=B),"function"!=typeof e.info&&(e.info=B),"function"!=typeof e.warn&&(e.warn=W),"function"!=typeof e.error&&(e.error=V),e}(e.log),this.hook=t,e.authStrategy){let{authStrategy:n,...r}=e,i=n(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:r},e.auth));t.wrap("request",i.hook),this.auth=i}else if(e.auth){let n=F(e.auth);t.wrap("request",n.hook),this.auth=n}else this.auth=async()=>({type:"unauthenticated"});let r=this.constructor;for(let t=0;t<r.plugins.length;++t)Object.assign(this,r.plugins[t](this,e))}request;graphql;log;hook;auth}function M(e){let t=e.endpoint.DEFAULTS;return/^https:\/\/(api\.)?github\.com$/.test(t.baseUrl)?"https://github.com":t.baseUrl.replace("/api/v3","")}async function Y(e,t,n){let r={baseUrl:M(e),headers:{accept:"application/json"},...n},i=await e(t,r);if("error"in i.data){let n=new I(`${i.data.error_description} (${i.data.error}, ${i.data.error_uri})`,400,{request:e.endpoint.merge(t,r)});throw n.response=i,n}return i}async function Z(e){let t=e.request||A,n=await Y(t,"POST /login/oauth/access_token",{client_id:e.clientId,client_secret:e.clientSecret,code:e.code,redirect_uri:e.redirectUrl}),r={clientType:e.clientType,clientId:e.clientId,clientSecret:e.clientSecret,token:n.data.access_token,scopes:n.data.scope.split(/\s+/).filter(Boolean)};if("github-app"===e.clientType){if("refresh_token"in n.data){let e=new Date(n.headers.date).getTime();r.refreshToken=n.data.refresh_token,r.expiresAt=Q(e,n.data.expires_in),r.refreshTokenExpiresAt=Q(e,n.data.refresh_token_expires_in)}delete r.scopes}return{...n,authentication:r}}function Q(e,t){return new Date(e+1e3*t).toISOString()}async function X(e){let t=e.request||A,n={client_id:e.clientId};return"scopes"in e&&Array.isArray(e.scopes)&&(n.scope=e.scopes.join(" ")),Y(t,"POST /login/device/code",n)}async function ee(e){let t=e.request||A,n=await Y(t,"POST /login/oauth/access_token",{client_id:e.clientId,device_code:e.code,grant_type:"urn:ietf:params:oauth:grant-type:device_code"}),r={clientType:e.clientType,clientId:e.clientId,token:n.data.access_token,scopes:n.data.scope.split(/\s+/).filter(Boolean)};if("clientSecret"in e&&(r.clientSecret=e.clientSecret),"github-app"===e.clientType){if("refresh_token"in n.data){let e=new Date(n.headers.date).getTime();r.refreshToken=n.data.refresh_token,r.expiresAt=et(e,n.data.expires_in),r.refreshTokenExpiresAt=et(e,n.data.refresh_token_expires_in)}delete r.scopes}return{...n,authentication:r}}function et(e,t){return new Date(e+1e3*t).toISOString()}async function en(e){let t=e.request||A,n=await t("POST /applications/{client_id}/token",{headers:{authorization:`basic ${btoa(`${e.clientId}:${e.clientSecret}`)}`},client_id:e.clientId,access_token:e.token}),r={clientType:e.clientType,clientId:e.clientId,clientSecret:e.clientSecret,token:e.token,scopes:n.data.scopes};return n.data.expires_at&&(r.expiresAt=n.data.expires_at),"github-app"===e.clientType&&delete r.scopes,{...n,authentication:r}}async function er(e){let t=e.request||A,n=await Y(t,"POST /login/oauth/access_token",{client_id:e.clientId,client_secret:e.clientSecret,grant_type:"refresh_token",refresh_token:e.refreshToken}),r=new Date(n.headers.date).getTime(),i={clientType:"github-app",clientId:e.clientId,clientSecret:e.clientSecret,token:n.data.access_token,refreshToken:n.data.refresh_token,expiresAt:ei(r,n.data.expires_in),refreshTokenExpiresAt:ei(r,n.data.refresh_token_expires_in)};return{...n,authentication:i}}function ei(e,t){return new Date(e+1e3*t).toISOString()}async function eo(e){let{request:t,clientType:n,clientId:r,clientSecret:i,token:o,...a}=e,s=e.request||A,c=await s("POST /applications/{client_id}/token/scoped",{headers:{authorization:`basic ${btoa(`${r}:${i}`)}`},client_id:r,access_token:o,...a}),l=Object.assign({clientType:n,clientId:r,clientSecret:i,token:c.data.token},c.data.expires_at?{expiresAt:c.data.expires_at}:{});return{...c,authentication:l}}async function ea(e){let t=e.request||A,n=btoa(`${e.clientId}:${e.clientSecret}`),r=await t("PATCH /applications/{client_id}/token",{headers:{authorization:`basic ${n}`},client_id:e.clientId,access_token:e.token}),i={clientType:e.clientType,clientId:e.clientId,clientSecret:e.clientSecret,token:r.data.token,scopes:r.data.scopes};return r.data.expires_at&&(i.expiresAt=r.data.expires_at),"github-app"===e.clientType&&delete i.scopes,{...r,authentication:i}}async function es(e){let t=e.request||A,n=btoa(`${e.clientId}:${e.clientSecret}`);return t("DELETE /applications/{client_id}/token",{headers:{authorization:`basic ${n}`},client_id:e.clientId,access_token:e.token})}async function ec(e){let t=e.request||A,n=btoa(`${e.clientId}:${e.clientSecret}`);return t("DELETE /applications/{client_id}/grant",{headers:{authorization:`basic ${n}`},client_id:e.clientId,access_token:e.token})}async function el(e,t){let n=function(e,t){if(!0===t.refresh||!e.authentication)return!1;if("github-app"===e.clientType)return e.authentication;let n=e.authentication;return("scopes"in t&&t.scopes||e.scopes).join(" ")===n.scopes.join(" ")&&n}(e,t.auth);if(n)return n;let{data:r}=await X({clientType:e.clientType,clientId:e.clientId,request:t.request||e.request,scopes:t.auth.scopes||e.scopes});await e.onVerification(r);let i=await ep(t.request||e.request,e.clientId,e.clientType,r);return e.authentication=i,i}async function eu(e){await new Promise(t=>setTimeout(t,1e3*e))}async function ep(e,t,n,r){try{let i={clientId:t,request:e,code:r.device_code},{authentication:o}="oauth-app"===n?await ee({...i,clientType:"oauth-app"}):await ee({...i,clientType:"github-app"});return{type:"token",tokenType:"oauth",...o}}catch(o){if(!o.response)throw o;let i=o.response.data.error;if("authorization_pending"===i)return await eu(r.interval),ep(e,t,n,r);if("slow_down"===i)return await eu(r.interval+7),ep(e,t,n,r);throw o}}async function ed(e,t){return el(e,{auth:t})}async function eh(e,t,n,r){let i=t.endpoint.merge(n,r);if(/\/login\/(oauth\/access_token|device\/code)$/.test(i.url))return t(i);let{token:o}=await el(e,{request:t,auth:{type:"oauth"}});return i.headers.authorization=`token ${o}`,t(i)}var ef="0.0.0-development";async function ey(e){if("code"in e.strategyOptions){let{authentication:t}=await Z({clientId:e.clientId,clientSecret:e.clientSecret,clientType:e.clientType,onTokenCreated:e.onTokenCreated,...e.strategyOptions,request:e.request});return{type:"token",tokenType:"oauth",...t}}if("onVerification"in e.strategyOptions){let t=function(e){let t=e.request||A.defaults({headers:{"user-agent":`octokit-auth-oauth-device.js/0.0.0-development ${r()}`}}),{request:n=t,...i}=e,o="github-app"===e.clientType?{...i,clientType:"github-app",request:n}:{...i,clientType:"oauth-app",request:n,scopes:e.scopes||[]};if(!e.clientId)throw Error('[@octokit/auth-oauth-device] "clientId" option must be set (https://github.com/octokit/auth-oauth-device.js#usage)');if(!e.onVerification)throw Error('[@octokit/auth-oauth-device] "onVerification" option must be a function (https://github.com/octokit/auth-oauth-device.js#usage)');return Object.assign(ed.bind(null,o),{hook:eh.bind(null,o)})}({clientType:e.clientType,clientId:e.clientId,onTokenCreated:e.onTokenCreated,...e.strategyOptions,request:e.request}),n=await t({type:"oauth"});return{clientSecret:e.clientSecret,...n}}if("token"in e.strategyOptions)return{type:"token",tokenType:"oauth",clientId:e.clientId,clientSecret:e.clientSecret,clientType:e.clientType,onTokenCreated:e.onTokenCreated,...e.strategyOptions};throw Error("[@octokit/auth-oauth-user] Invalid strategy options")}async function eg(e,t={}){if(e.authentication||(e.authentication=(e.clientType,await ey(e))),e.authentication.invalid)throw Error("[@octokit/auth-oauth-user] Token is invalid");let n=e.authentication;if("expiresAt"in n&&("refresh"===t.type||new Date(n.expiresAt)<new Date)){let{authentication:t}=await er({clientType:"github-app",clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:n.refreshToken,request:e.request});e.authentication={tokenType:"oauth",type:"token",...t}}if("refresh"===t.type){if("oauth-app"===e.clientType)throw Error("[@octokit/auth-oauth-user] OAuth Apps do not support expiring tokens");if(!n.hasOwnProperty("expiresAt"))throw Error("[@octokit/auth-oauth-user] Refresh token missing");await e.onTokenCreated?.(e.authentication,{type:t.type})}if("check"===t.type||"reset"===t.type){let n="check"===t.type?en:ea;try{let{authentication:r}=await n({clientType:e.clientType,clientId:e.clientId,clientSecret:e.clientSecret,token:e.authentication.token,request:e.request});return e.authentication={tokenType:"oauth",type:"token",...r},"reset"===t.type&&await e.onTokenCreated?.(e.authentication,{type:t.type}),e.authentication}catch(t){throw 404===t.status&&(t.message="[@octokit/auth-oauth-user] Token is invalid",e.authentication.invalid=!0),t}}if("delete"===t.type||"deleteAuthorization"===t.type){let n="delete"===t.type?es:ec;try{await n({clientType:e.clientType,clientId:e.clientId,clientSecret:e.clientSecret,token:e.authentication.token,request:e.request})}catch(e){if(404!==e.status)throw e}e.authentication.invalid=!0}return e.authentication}var em=/\/applications\/[^/]+\/(token|grant)s?/;function e_(e){return e&&em.test(e)}async function ek(e,t,n,r={}){let i=t.endpoint.merge(n,r);if(/\/login\/(oauth\/access_token|device\/code)$/.test(i.url))return t(i);if(e_(i.url)){let n=btoa(`${e.clientId}:${e.clientSecret}`);return i.headers.authorization=`basic ${n}`,t(i)}let{token:o}=(e.clientType,await eg({...e,request:t}));return i.headers.authorization="token "+o,t(i)}function eb({clientId:e,clientSecret:t,clientType:n="oauth-app",request:i=A.defaults({headers:{"user-agent":`octokit-auth-oauth-app.js/${ef} ${r()}`}}),onTokenCreated:o,...a}){let s=Object.assign({clientType:n,clientId:e,clientSecret:t,onTokenCreated:o,strategyOptions:a,request:i});return Object.assign(eg.bind(null,s),{hook:ek.bind(null,s)})}async function ew(e,t){if("oauth-app"===t.type)return{type:"oauth-app",clientId:e.clientId,clientSecret:e.clientSecret,clientType:e.clientType,headers:{authorization:`basic ${btoa(`${e.clientId}:${e.clientSecret}`)}`}};if("factory"in t){let{type:n,...r}={...t,...e};return t.factory(r)}let n={clientId:e.clientId,clientSecret:e.clientSecret,request:e.request,...t};return(e.clientType,await eb({...n,clientType:e.clientType}))()}async function ev(e,t,n,r){let i=t.endpoint.merge(n,r);if(/\/login\/(oauth\/access_token|device\/code)$/.test(i.url))return t(i);if("github-app"===e.clientType&&!e_(i.url))throw Error(`[@octokit/auth-oauth-app] GitHub Apps cannot use their client ID/secret for basic authentication for endpoints other than "/applications/{client_id}/**". "${i.method} ${i.url}" is not supported.`);let o=btoa(`${e.clientId}:${e.clientSecret}`);i.headers.authorization=`basic ${o}`;try{return await t(i)}catch(e){if(401!==e.status)throw e;throw e.message=`[@octokit/auth-oauth-app] "${i.method} ${i.url}" does not support clientId/clientSecret basic authentication.`,e}}function eT(e){let t=Object.assign({request:A.defaults({headers:{"user-agent":`octokit-auth-oauth-app.js/0.0.0-development ${r()}`}}),clientType:"oauth-app"},e);return Object.assign(ew.bind(null,t),{hook:ev.bind(null,t)})}function ej(e){return e.includes("-----BEGIN RSA PRIVATE KEY-----")}function eS(e){let t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let t=0,r=e.length;t<r;t++)n[t]=e.charCodeAt(t);return t}function eI(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function eq(e){return eI(btoa(JSON.stringify(e)))}eb.VERSION=ef;var eO=n(6005);async function e$({privateKey:e,payload:t}){var n;let r=ej(e)?(0,eO.createPrivateKey)(e).export({type:"pkcs8",format:"pem"}):e;if(ej(r))throw Error("[universal-github-app-jwt] Private Key is in PKCS#1 format, but only PKCS#8 is supported. See https://github.com/gr2m/universal-github-app-jwt#private-key-formats");if(r.includes("-----BEGIN OPENSSH PRIVATE KEY-----"))throw Error("[universal-github-app-jwt] Private Key is in OpenSSH format, but only PKCS#8 is supported. See https://github.com/gr2m/universal-github-app-jwt#private-key-formats");let i={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},o=eS(atob(r.trim().split("\n").slice(1,-1).join(""))),a=await eO.subtle.importKey("pkcs8",o,i,!1,["sign"]),s=(n={alg:"RS256",typ:"JWT"},`${eq(n)}.${eq(t)}`),c=eS(s),l=function(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;i<r;i++)t+=String.fromCharCode(n[i]);return eI(btoa(t))}(await eO.subtle.sign(i.name,a,c));return`${s}.${l}`}async function eE({id:e,privateKey:t,now:n=Math.floor(Date.now()/1e3)}){let r=t.replace(/\\n/g,"\n"),i=n-30,o=i+600,a=await e$({privateKey:r,payload:{iat:i,exp:o,iss:e}});return{appId:e,expiration:o,token:a}}class eA{constructor(e=1e3,t=0){if(isNaN(e)||e<0)throw Error("Invalid max value");if(isNaN(t)||t<0)throw Error("Invalid ttl value");this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this.max=e,this.ttl=t}bumpLru(e){if(this.last===e)return;let t=this.last,n=e.next,r=e.prev;this.first===e&&(this.first=n),e.next=null,e.prev=t,t.next=e,null!==r&&(r.next=n),null!==n&&(n.prev=r),this.last=e}clear(){this.items=Object.create(null),this.first=null,this.last=null,this.size=0}delete(e){if(Object.prototype.hasOwnProperty.call(this.items,e)){let t=this.items[e];delete this.items[e],this.size--,null!==t.prev&&(t.prev.next=t.next),null!==t.next&&(t.next.prev=t.prev),this.first===t&&(this.first=t.next),this.last===t&&(this.last=t.prev)}}deleteMany(e){for(var t=0;t<e.length;t++)this.delete(e[t])}evict(){if(this.size>0){let e=this.first;delete this.items[e.key],0==--this.size?(this.first=null,this.last=null):(this.first=e.next,this.first.prev=null)}}expiresAt(e){if(Object.prototype.hasOwnProperty.call(this.items,e))return this.items[e].expiry}get(e){if(Object.prototype.hasOwnProperty.call(this.items,e)){let t=this.items[e];if(this.ttl>0&&t.expiry<=Date.now()){this.delete(e);return}return this.bumpLru(t),t.value}}getMany(e){let t=[];for(var n=0;n<e.length;n++)t.push(this.get(e[n]));return t}keys(){return Object.keys(this.items)}set(e,t){if(Object.prototype.hasOwnProperty.call(this.items,e)){let n=this.items[e];n.value=t,n.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl,this.last!==n&&this.bumpLru(n);return}this.max>0&&this.size===this.max&&this.evict();let n={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:e,prev:this.last,next:null,value:t};this.items[e]=n,1==++this.size?this.first=n:this.last.next=n,this.last=n}}async function ex({appId:e,privateKey:t,timeDifference:n,createJwt:r}){try{if(r){let{jwt:t,expiresAt:i}=await r(e,n);return{type:"app",token:t,appId:e,expiresAt:i}}let i={id:e,privateKey:t};n&&Object.assign(i,{now:Math.floor(Date.now()/1e3)+n});let o=await eE(i);return{type:"app",token:o.token,appId:o.appId,expiresAt:new Date(1e3*o.expiration).toISOString()}}catch(e){if("-----BEGIN RSA PRIVATE KEY-----"===t)throw Error("The 'privateKey` option contains only the first line '-----BEGIN RSA PRIVATE KEY-----'. If you are setting it using a `.env` file, make sure it is set on a single line with newlines replaced by '\n'");throw e}}async function eU(e,t){let n=ez(t),r=await e.get(n);if(!r)return;let[i,o,a,s,c,l]=r.split("|");return{token:i,createdAt:o,expiresAt:a,permissions:t.permissions||c.split(/,/).reduce((e,t)=>(/!$/.test(t)?e[t.slice(0,-1)]="write":e[t]="read",e),{}),repositoryIds:t.repositoryIds,repositoryNames:t.repositoryNames,singleFileName:l,repositorySelection:s}}async function eP(e,t,n){let r=ez(t),i=t.permissions?"":Object.keys(n.permissions).map(e=>`${e}${"write"===n.permissions[e]?"!":""}`).join(","),o=[n.token,n.createdAt,n.expiresAt,n.repositorySelection,i,n.singleFileName].join("|");await e.set(r,o)}function ez({installationId:e,permissions:t={},repositoryIds:n=[],repositoryNames:r=[]}){let i=Object.keys(t).sort().map(e=>"read"===t[e]?e:`${e}!`).join(",");return[e,n.sort().join(","),r.join(","),i].filter(Boolean).join("|")}function eN({installationId:e,token:t,createdAt:n,expiresAt:r,repositorySelection:i,permissions:o,repositoryIds:a,repositoryNames:s,singleFileName:c}){return Object.assign({type:"token",tokenType:"installation",token:t,installationId:e,permissions:o,createdAt:n,expiresAt:r,repositorySelection:i},a?{repositoryIds:a}:null,s?{repositoryNames:s}:null,c?{singleFileName:c}:null)}async function eR(e,t,n){let r=Number(t.installationId||e.installationId);if(!r)throw Error("[@octokit/auth-app] installationId option is required for installation authentication.");if(t.factory){let{type:n,factory:r,oauthApp:i,...o}={...e,...t};return r(o)}let i=n||e.request;return function(e,t,n){let r=ez(t);if(eD.has(r))return eD.get(r);let i=eC(e,t,n).finally(()=>eD.delete(r));return eD.set(r,i),i}(e,{...t,installationId:r},i)}var eD=new Map;async function eC(e,t,n){if(!t.refresh){let n=await eU(e.cache,t);if(n){let{token:e,createdAt:r,expiresAt:i,permissions:o,repositoryIds:a,repositoryNames:s,singleFileName:c,repositorySelection:l}=n;return eN({installationId:t.installationId,token:e,createdAt:r,expiresAt:i,permissions:o,repositorySelection:l,repositoryIds:a,repositoryNames:s,singleFileName:c})}}let r=await ex(e),i={installation_id:t.installationId,mediaType:{previews:["machine-man"]},headers:{authorization:`bearer ${r.token}`}};t.repositoryIds&&Object.assign(i,{repository_ids:t.repositoryIds}),t.repositoryNames&&Object.assign(i,{repositories:t.repositoryNames}),t.permissions&&Object.assign(i,{permissions:t.permissions});let{data:{token:o,expires_at:a,repositories:s,permissions:c,repository_selection:l,single_file:u}}=await n("POST /app/installations/{installation_id}/access_tokens",i),p=c||{},d=l||"all",h=s?s.map(e=>e.id):void 0,f=s?s.map(e=>e.name):void 0,y=new Date().toISOString();u&&Object.assign(i,{singleFileName:u}),await eP(e.cache,t,{token:o,createdAt:y,expiresAt:a,repositorySelection:d,permissions:p,repositoryIds:h,repositoryNames:f});let g={installationId:t.installationId,token:o,createdAt:y,expiresAt:a,repositorySelection:d,permissions:p,repositoryIds:h,repositoryNames:f};return u&&Object.assign(g,{singleFileName:u}),eN(g)}async function eH(e,t){switch(t.type){case"app":return ex(e);case"oauth-app":return e.oauthApp({type:"oauth-app"});case"installation":return eR(e,{...t,type:"installation"});case"oauth-user":return e.oauthApp(t);default:throw Error(`Invalid auth type: ${t.type}`)}}var eL=function(e){let t=e.map(e=>e.split("/").map(e=>e.startsWith("{")?"(?:.+?)":e).join("/"));return RegExp(`^(?:${t.map(e=>`(?:${e})`).join("|")})$`,"i")}(["/app","/app/hook/config","/app/hook/deliveries","/app/hook/deliveries/{delivery_id}","/app/hook/deliveries/{delivery_id}/attempts","/app/installations","/app/installations/{installation_id}","/app/installations/{installation_id}/access_tokens","/app/installations/{installation_id}/suspended","/app/installation-requests","/marketplace_listing/accounts/{account_id}","/marketplace_listing/plan","/marketplace_listing/plans","/marketplace_listing/plans/{plan_id}/accounts","/marketplace_listing/stubbed/accounts/{account_id}","/marketplace_listing/stubbed/plan","/marketplace_listing/stubbed/plans","/marketplace_listing/stubbed/plans/{plan_id}/accounts","/orgs/{org}/installation","/repos/{owner}/{repo}/installation","/users/{username}/installation"]);async function eF(e,t,n,r){var i;let o=t.endpoint.merge(n,r),a=o.url;if(/\/login\/oauth\/access_token$/.test(a))return t(o);if((i=a.replace(t.endpoint.DEFAULTS.baseUrl,""))&&eL.test(i.split("?")[0])){let n;let{token:r}=await ex(e);o.headers.authorization=`bearer ${r}`;try{n=await t(o)}catch(i){if(!(i.message.match(/'Expiration time' claim \('exp'\) must be a numeric value representing the future time at which the assertion expires/)||i.message.match(/'Issued at' claim \('iat'\) must be an Integer representing the time that the assertion was issued/))||void 0===i.response.headers.date)throw i;let n=Math.floor((Date.parse(i.response.headers.date)-Date.parse(new Date().toString()))/1e3);e.log.warn(i.message),e.log.warn(`[@octokit/auth-app] GitHub API time and system time are different by ${n} seconds. Retrying request with the difference accounted for.`);let{token:r}=await ex({...e,timeDifference:n});return o.headers.authorization=`bearer ${r}`,t(o)}return n}if(e_(a)){let n=await e.oauthApp({type:"oauth-app"});return o.headers.authorization=n.headers.authorization,t(o)}let{token:s,createdAt:c}=await eR(e,{},t.defaults({baseUrl:o.baseUrl}));return o.headers.authorization=`token ${s}`,eK(e,t,o,c)}async function eK(e,t,n,r,i=0){let o=+new Date-+new Date(r);try{return await t(n)}catch(s){if(401!==s.status)throw s;if(o>=5e3)throw i>0&&(s.message=`After ${i} retries within ${o/1e3}s of creating the installation access token, the response remains 401. At this point, the cause may be an authentication problem or a system outage. Please check https://www.githubstatus.com for status information`),s;let a=1e3*++i;return e.log.warn(`[@octokit/auth-app] Retrying after 401 response to account for token replication delay (retry: ${i}, wait: ${a/1e3}s)`),await new Promise(e=>setTimeout(e,a)),eK(e,t,n,r,i)}}function eB(e){if(!e.appId)throw Error("[@octokit/auth-app] appId option is required");if(e.privateKey||e.createJwt){if(e.privateKey&&e.createJwt)throw Error("[@octokit/auth-app] privateKey and createJwt options are mutually exclusive")}else throw Error("[@octokit/auth-app] privateKey option is required");if("installationId"in e&&!e.installationId)throw Error("[@octokit/auth-app] installationId is set to a falsy value");let t=e.log||{};"function"!=typeof t.warn&&(t.warn=console.warn.bind(console));let n=e.request||A.defaults({headers:{"user-agent":`octokit-auth-app.js/8.1.2 ${r()}`}}),i=Object.assign({request:n,cache:new eA(15e3,354e4)},e,e.installationId?{installationId:Number(e.installationId)}:{},{log:t,oauthApp:eT({clientType:"github-app",clientId:e.clientId||"",clientSecret:e.clientSecret||"",request:n})});return Object.assign(eH.bind(null,i),{hook:eF.bind(null,i)})}async function eW(e){return{type:"unauthenticated",reason:e}}var eV=/\babuse\b/i;async function eG(e,t,n,r){let i=t.endpoint.merge(n,r);return t(i).catch(t=>{if(404===t.status)throw t.message=`Not found. May be due to lack of authentication. Reason: ${e}`,t;if(403===t.status&&t.response&&"0"===t.response.headers["x-ratelimit-remaining"])throw t.message=`API rate limit exceeded. This maybe caused by the lack of authentication. Reason: ${e}`,t;if(403===t.status&&eV.test(t.message))throw t.message=`You have triggered an abuse detection mechanism. This maybe caused by the lack of authentication. Reason: ${e}`,t;if(401===t.status)throw t.message=`Unauthorized. "${i.method} ${i.url}" failed most likely due to lack of authentication. Reason: ${e}`,t;throw t.status>=400&&t.status<500&&(t.message=t.message.replace(/\.?$/,`. May be caused by lack of authentication (${e}).`)),t})}var eJ=function(e){if(!e||!e.reason)throw Error("[@octokit/auth-unauthenticated] No reason passed to createUnauthenticatedAuth");return Object.assign(eW.bind(null,e.reason),{hook:eG.bind(null,e.reason)})},eM="8.0.3",eY=J.defaults({userAgent:`octokit-oauth-app.js/${eM} ${r()}`});async function eZ(e,t){let{name:n,action:r}=t;if(e.eventHandlers[`${n}.${r}`])for(let i of e.eventHandlers[`${n}.${r}`])await i(t);if(e.eventHandlers[n])for(let r of e.eventHandlers[n])await r(t)}async function eQ(e,t){return e.octokit.auth({type:"oauth-user",...t,async factory(t){let n=new e.Octokit({authStrategy:eb,auth:t}),r=await n.auth({type:"get"});return await eZ(e,{name:"token",action:"created",token:r.token,scopes:r.scopes,authentication:r,octokit:n}),n}})}function eX(e,t){let n={clientId:e.clientId,request:e.octokit.request,...t,allowSignup:e.allowSignup??t.allowSignup,redirectUrl:t.redirectUrl??e.redirectUrl,scopes:t.scopes??e.defaultScopes};return function({request:e=A,...t}){let n=M(e);return function(e){let t=e.clientType||"oauth-app",n=e.baseUrl||"https://github.com",r={clientType:t,allowSignup:!1!==e.allowSignup,clientId:e.clientId,login:e.login||null,redirectUrl:e.redirectUrl||null,state:e.state||Math.random().toString(36).substr(2),url:""};if("oauth-app"===t){let t="scopes"in e?e.scopes:[];r.scopes="string"==typeof t?t.split(/[,\s]+/).filter(Boolean):t}return r.url=function(e,t){let n={allowSignup:"allow_signup",clientId:"client_id",login:"login",redirectUrl:"redirect_uri",scopes:"scope",state:"state"},r=e;return Object.keys(n).filter(e=>null!==t[e]).filter(e=>"scopes"!==e||"github-app"!==t.clientType&&(!Array.isArray(t[e])||t[e].length>0)).map(e=>[n[e],`${t[e]}`]).forEach(([e,t],n)=>{r+=(0===n?"?":"&")+`${e}=${encodeURIComponent(t)}`}),r}(`${n}/login/oauth/authorize`,r),r}({...t,baseUrl:n})}({clientType:e.clientType,...n})}async function e0(e,t){let n=await e.octokit.auth({type:"oauth-user",...t});return await eZ(e,{name:"token",action:"created",token:n.token,scopes:n.scopes,authentication:n,octokit:new e.Octokit({authStrategy:eb,auth:{clientType:e.clientType,clientId:e.clientId,clientSecret:e.clientSecret,token:n.token,scopes:n.scopes,refreshToken:n.refreshToken,expiresAt:n.expiresAt,refreshTokenExpiresAt:n.refreshTokenExpiresAt}})}),{authentication:n}}async function e1(e,t){let n=await en({clientType:e.clientType,clientId:e.clientId,clientSecret:e.clientSecret,request:e.octokit.request,...t});return Object.assign(n.authentication,{type:"token",tokenType:"oauth"}),n}async function e2(e,t){let n={clientId:e.clientId,clientSecret:e.clientSecret,request:e.octokit.request,...t};if("oauth-app"===e.clientType){let t=await ea({clientType:"oauth-app",...n}),r=Object.assign(t.authentication,{type:"token",tokenType:"oauth"});return await eZ(e,{name:"token",action:"reset",token:t.authentication.token,scopes:t.authentication.scopes||void 0,authentication:r,octokit:new e.Octokit({authStrategy:eb,auth:{clientType:e.clientType,clientId:e.clientId,clientSecret:e.clientSecret,token:t.authentication.token,scopes:t.authentication.scopes}})}),{...t,authentication:r}}let r=await ea({clientType:"github-app",...n}),i=Object.assign(r.authentication,{type:"token",tokenType:"oauth"});return await eZ(e,{name:"token",action:"reset",token:r.authentication.token,authentication:i,octokit:new e.Octokit({authStrategy:eb,auth:{clientType:e.clientType,clientId:e.clientId,clientSecret:e.clientSecret,token:r.authentication.token}})}),{...r,authentication:i}}async function e3(e,t){if("oauth-app"===e.clientType)throw Error("[@octokit/oauth-app] app.refreshToken() is not supported for OAuth Apps");let n=await er({clientType:"github-app",clientId:e.clientId,clientSecret:e.clientSecret,request:e.octokit.request,refreshToken:t.refreshToken}),r=Object.assign(n.authentication,{type:"token",tokenType:"oauth"});return await eZ(e,{name:"token",action:"refreshed",token:n.authentication.token,authentication:r,octokit:new e.Octokit({authStrategy:eb,auth:{clientType:e.clientType,clientId:e.clientId,clientSecret:e.clientSecret,token:n.authentication.token}})}),{...n,authentication:r}}async function e4(e,t){if("oauth-app"===e.clientType)throw Error("[@octokit/oauth-app] app.scopeToken() is not supported for OAuth Apps");let n=await eo({clientType:"github-app",clientId:e.clientId,clientSecret:e.clientSecret,request:e.octokit.request,...t}),r=Object.assign(n.authentication,{type:"token",tokenType:"oauth"});return await eZ(e,{name:"token",action:"scoped",token:n.authentication.token,authentication:r,octokit:new e.Octokit({authStrategy:eb,auth:{clientType:e.clientType,clientId:e.clientId,clientSecret:e.clientSecret,token:n.authentication.token}})}),{...n,authentication:r}}async function e5(e,t){let n={clientId:e.clientId,clientSecret:e.clientSecret,request:e.octokit.request,...t},r="oauth-app"===e.clientType?await es({clientType:"oauth-app",...n}):await es({clientType:"github-app",...n});return await eZ(e,{name:"token",action:"deleted",token:t.token,octokit:new e.Octokit({authStrategy:eJ,auth:{reason:'Handling "token.deleted" event. The access for the token has been revoked.'}})}),r}async function e6(e,t){let n={clientId:e.clientId,clientSecret:e.clientSecret,request:e.octokit.request,...t},r="oauth-app"===e.clientType?await ec({clientType:"oauth-app",...n}):await ec({clientType:"github-app",...n});return await eZ(e,{name:"token",action:"deleted",token:t.token,octokit:new e.Octokit({authStrategy:eJ,auth:{reason:'Handling "token.deleted" event. The access for the token has been revoked.'}})}),await eZ(e,{name:"authorization",action:"deleted",token:t.token,octokit:new e.Octokit({authStrategy:eJ,auth:{reason:'Handling "authorization.deleted" event. The access for the app has been revoked.'}})}),r}var e8=class{static VERSION=eM;static defaults(e){return class extends this{constructor(...t){super({...e,...t[0]})}}}constructor(e){let t=e.Octokit||eY;this.type=e.clientType||"oauth-app";let n=new t({authStrategy:eT,auth:{clientType:this.type,clientId:e.clientId,clientSecret:e.clientSecret}}),r={clientType:this.type,clientId:e.clientId,clientSecret:e.clientSecret,defaultScopes:e.defaultScopes||[],allowSignup:e.allowSignup,baseUrl:e.baseUrl,redirectUrl:e.redirectUrl,log:e.log,Octokit:t,octokit:n,eventHandlers:{}};this.on=(function e(t,n,r){if(Array.isArray(n)){for(let i of n)e(t,i,r);return}t.eventHandlers[n]||(t.eventHandlers[n]=[]),t.eventHandlers[n].push(r)}).bind(null,r),this.octokit=n,this.getUserOctokit=eQ.bind(null,r),this.getWebFlowAuthorizationUrl=eX.bind(null,r),this.createToken=e0.bind(null,r),this.checkToken=e1.bind(null,r),this.resetToken=e2.bind(null,r),this.refreshToken=e3.bind(null,r),this.scopeToken=e4.bind(null,r),this.deleteToken=e5.bind(null,r),this.deleteAuthorization=e6.bind(null,r)}type;on;octokit;getUserOctokit;getWebFlowAuthorizationUrl;createToken;checkToken;resetToken;refreshToken;scopeToken;deleteToken;deleteAuthorization},e9=n(2254),e7="6.0.0";async function te(e,t){if(!e||!t)throw TypeError("[@octokit/webhooks-methods] secret & payload required for sign()");if("string"!=typeof t)throw TypeError("[@octokit/webhooks-methods] payload must be a string");let n="sha256";return`${n}=${(0,eO.createHmac)(n,e).update(t).digest("hex")}`}async function tt(e,t,n){if(!e||!t||!n)throw TypeError("[@octokit/webhooks-methods] secret, eventPayload & signature required");if("string"!=typeof t)throw TypeError("[@octokit/webhooks-methods] eventPayload must be a string");let r=e9.Buffer.from(n),i=e9.Buffer.from(await te(e,t));return r.length===i.length&&(0,eO.timingSafeEqual)(r,i)}async function tn(e,t,n,r){if(await tt(e,t,n))return!0;if(void 0!==r)for(let e of r){let r=await tt(e,t,n);if(r)return r}return!1}te.VERSION=e7,tt.VERSION=e7;var tr=(e={})=>("function"!=typeof e.debug&&(e.debug=()=>{}),"function"!=typeof e.info&&(e.info=()=>{}),"function"!=typeof e.warn&&(e.warn=console.warn.bind(console)),"function"!=typeof e.error&&(e.error=console.error.bind(console)),e),ti=["branch_protection_configuration","branch_protection_configuration.disabled","branch_protection_configuration.enabled","branch_protection_rule","branch_protection_rule.created","branch_protection_rule.deleted","branch_protection_rule.edited","check_run","check_run.completed","check_run.created","check_run.requested_action","check_run.rerequested","check_suite","check_suite.completed","check_suite.requested","check_suite.rerequested","code_scanning_alert","code_scanning_alert.appeared_in_branch","code_scanning_alert.closed_by_user","code_scanning_alert.created","code_scanning_alert.fixed","code_scanning_alert.reopened","code_scanning_alert.reopened_by_user","commit_comment","commit_comment.created","create","custom_property","custom_property.created","custom_property.deleted","custom_property.promote_to_enterprise","custom_property.updated","custom_property_values","custom_property_values.updated","delete","dependabot_alert","dependabot_alert.auto_dismissed","dependabot_alert.auto_reopened","dependabot_alert.created","dependabot_alert.dismissed","dependabot_alert.fixed","dependabot_alert.reintroduced","dependabot_alert.reopened","deploy_key","deploy_key.created","deploy_key.deleted","deployment","deployment.created","deployment_protection_rule","deployment_protection_rule.requested","deployment_review","deployment_review.approved","deployment_review.rejected","deployment_review.requested","deployment_status","deployment_status.created","discussion","discussion.answered","discussion.category_changed","discussion.closed","discussion.created","discussion.deleted","discussion.edited","discussion.labeled","discussion.locked","discussion.pinned","discussion.reopened","discussion.transferred","discussion.unanswered","discussion.unlabeled","discussion.unlocked","discussion.unpinned","discussion_comment","discussion_comment.created","discussion_comment.deleted","discussion_comment.edited","fork","github_app_authorization","github_app_authorization.revoked","gollum","installation","installation.created","installation.deleted","installation.new_permissions_accepted","installation.suspend","installation.unsuspend","installation_repositories","installation_repositories.added","installation_repositories.removed","installation_target","installation_target.renamed","issue_comment","issue_comment.created","issue_comment.deleted","issue_comment.edited","issue_dependencies","issue_dependencies.blocked_by_added","issue_dependencies.blocked_by_removed","issue_dependencies.blocking_added","issue_dependencies.blocking_removed","issues","issues.assigned","issues.closed","issues.deleted","issues.demilestoned","issues.edited","issues.labeled","issues.locked","issues.milestoned","issues.opened","issues.pinned","issues.reopened","issues.transferred","issues.typed","issues.unassigned","issues.unlabeled","issues.unlocked","issues.unpinned","issues.untyped","label","label.created","label.deleted","label.edited","marketplace_purchase","marketplace_purchase.cancelled","marketplace_purchase.changed","marketplace_purchase.pending_change","marketplace_purchase.pending_change_cancelled","marketplace_purchase.purchased","member","member.added","member.edited","member.removed","membership","membership.added","membership.removed","merge_group","merge_group.checks_requested","merge_group.destroyed","meta","meta.deleted","milestone","milestone.closed","milestone.created","milestone.deleted","milestone.edited","milestone.opened","org_block","org_block.blocked","org_block.unblocked","organization","organization.deleted","organization.member_added","organization.member_invited","organization.member_removed","organization.renamed","package","package.published","package.updated","page_build","personal_access_token_request","personal_access_token_request.approved","personal_access_token_request.cancelled","personal_access_token_request.created","personal_access_token_request.denied","ping","project","project.closed","project.created","project.deleted","project.edited","project.reopened","project_card","project_card.converted","project_card.created","project_card.deleted","project_card.edited","project_card.moved","project_column","project_column.created","project_column.deleted","project_column.edited","project_column.moved","projects_v2","projects_v2.closed","projects_v2.created","projects_v2.deleted","projects_v2.edited","projects_v2.reopened","projects_v2_item","projects_v2_item.archived","projects_v2_item.converted","projects_v2_item.created","projects_v2_item.deleted","projects_v2_item.edited","projects_v2_item.reordered","projects_v2_item.restored","projects_v2_status_update","projects_v2_status_update.created","projects_v2_status_update.deleted","projects_v2_status_update.edited","public","pull_request","pull_request.assigned","pull_request.auto_merge_disabled","pull_request.auto_merge_enabled","pull_request.closed","pull_request.converted_to_draft","pull_request.demilestoned","pull_request.dequeued","pull_request.edited","pull_request.enqueued","pull_request.labeled","pull_request.locked","pull_request.milestoned","pull_request.opened","pull_request.ready_for_review","pull_request.reopened","pull_request.review_request_removed","pull_request.review_requested","pull_request.synchronize","pull_request.unassigned","pull_request.unlabeled","pull_request.unlocked","pull_request_review","pull_request_review.dismissed","pull_request_review.edited","pull_request_review.submitted","pull_request_review_comment","pull_request_review_comment.created","pull_request_review_comment.deleted","pull_request_review_comment.edited","pull_request_review_thread","pull_request_review_thread.resolved","pull_request_review_thread.unresolved","push","registry_package","registry_package.published","registry_package.updated","release","release.created","release.deleted","release.edited","release.prereleased","release.published","release.released","release.unpublished","repository","repository.archived","repository.created","repository.deleted","repository.edited","repository.privatized","repository.publicized","repository.renamed","repository.transferred","repository.unarchived","repository_advisory","repository_advisory.published","repository_advisory.reported","repository_dispatch","repository_dispatch.sample.collected","repository_import","repository_ruleset","repository_ruleset.created","repository_ruleset.deleted","repository_ruleset.edited","repository_vulnerability_alert","repository_vulnerability_alert.create","repository_vulnerability_alert.dismiss","repository_vulnerability_alert.reopen","repository_vulnerability_alert.resolve","secret_scanning_alert","secret_scanning_alert.assigned","secret_scanning_alert.created","secret_scanning_alert.publicly_leaked","secret_scanning_alert.reopened","secret_scanning_alert.resolved","secret_scanning_alert.unassigned","secret_scanning_alert.validated","secret_scanning_alert_location","secret_scanning_alert_location.created","secret_scanning_scan","secret_scanning_scan.completed","security_advisory","security_advisory.published","security_advisory.updated","security_advisory.withdrawn","security_and_analysis","sponsorship","sponsorship.cancelled","sponsorship.created","sponsorship.edited","sponsorship.pending_cancellation","sponsorship.pending_tier_change","sponsorship.tier_changed","star","star.created","star.deleted","status","sub_issues","sub_issues.parent_issue_added","sub_issues.parent_issue_removed","sub_issues.sub_issue_added","sub_issues.sub_issue_removed","team","team.added_to_repository","team.created","team.deleted","team.edited","team.removed_from_repository","team_add","watch","watch.started","workflow_dispatch","workflow_job","workflow_job.completed","workflow_job.in_progress","workflow_job.queued","workflow_job.waiting","workflow_run","workflow_run.completed","workflow_run.in_progress","workflow_run.requested"];function to(e,t,n){e.hooks[t]||(e.hooks[t]=[]),e.hooks[t].push(n)}function ta(e,t){to(e,"*",t)}function ts(e,t){to(e,"error",t)}function tc(e,t){let n;try{n=e(t)}catch(e){console.log('FATAL: Error occurred in "error" event handler'),console.log(e)}n&&n.catch&&n.catch(e=>{console.log('FATAL: Error occurred in "error" event handler'),console.log(e)})}function tl(e,t){let n=e.hooks.error||[];if(t instanceof Error){let e=Object.assign(AggregateError([t],t.message),{event:t});return n.forEach(t=>tc(t,e)),Promise.reject(e)}if(!t||!t.name){let e=Error("Event name not passed");throw AggregateError([e],e.message)}if(!t.payload){let e=Error("Event name not passed");throw AggregateError([e],e.message)}let r=function(e,t,n){let r=[e.hooks[n],e.hooks["*"]];return t&&r.unshift(e.hooks[`${n}.${t}`]),[].concat(...r.filter(Boolean))}(e,"action"in t.payload?t.payload.action:null,t.name);if(0===r.length)return Promise.resolve();let i=[];return Promise.all(r.map(n=>{let r=Promise.resolve(t);return e.transform&&(r=r.then(e.transform)),r.then(e=>n(e)).catch(e=>i.push(Object.assign(e,{event:t})))})).then(()=>{if(0===i.length)return;let e=AggregateError(i,i.map(e=>e.message).join("\n"));throw Object.assign(e,{event:t}),n.forEach(t=>tc(t,e)),e})}async function tu(e,t){let n;if(!await tn(e.secret,t.payload,t.signature,e.additionalSecrets).catch(()=>!1)){let n=Error("[@octokit/webhooks] signature does not match event payload and secret");return n.event=t,n.status=400,e.eventHandler.receive(n)}try{n=JSON.parse(t.payload)}catch(e){throw e.message="Invalid JSON",e.status=400,AggregateError([e],e.message)}return e.eventHandler.receive({id:t.id,name:t.name,payload:n})}var tp=new TextDecoder("utf-8",{fatal:!1}),td=(tp.decode.bind(tp),class{sign;verify;on;onAny;onError;removeListener;receive;verifyAndReceive;constructor(e){if(!e||!e.secret)throw Error("[@octokit/webhooks] options.secret required");let t={eventHandler:function(e){let t={hooks:{},log:tr(e&&e.log)};return e&&e.transform&&(t.transform=e.transform),{on:(function e(t,n,r){if(Array.isArray(n)){n.forEach(n=>e(t,n,r));return}(function(e,t={}){if("string"!=typeof e)throw TypeError("eventName must be of type string");if("*"===e)throw TypeError('Using the "*" event with the regular Webhooks.on() function is not supported. Please use the Webhooks.onAny() method instead');if("error"===e)throw TypeError('Using the "error" event with the regular Webhooks.on() function is not supported. Please use the Webhooks.onError() method instead');if("ignore"!==t.onUnknownEventName&&!ti.includes(e)){if("warn"!==t.onUnknownEventName)throw TypeError(`"${e}" is not a known webhook name (https://developer.github.com/v3/activity/events/types/)`);(t.log||console).warn(`"${e}" is not a known webhook name (https://developer.github.com/v3/activity/events/types/)`)}})(n,{onUnknownEventName:"warn",log:t.log}),to(t,n,r)}).bind(null,t),onAny:ta.bind(null,t),onError:ts.bind(null,t),removeListener:(function e(t,n,r){if(Array.isArray(n)){n.forEach(n=>e(t,n,r));return}if(t.hooks[n]){for(let e=t.hooks[n].length-1;e>=0;e--)if(t.hooks[n][e]===r){t.hooks[n].splice(e,1);return}}}).bind(null,t),receive:tl.bind(null,t)}}(e),secret:e.secret,additionalSecrets:e.additionalSecrets,hooks:{},log:tr(e.log)};this.sign=te.bind(null,e.secret),this.verify=tt.bind(null,e.secret),this.on=t.eventHandler.on,this.onAny=t.eventHandler.onAny,this.onError=t.eventHandler.onError,this.removeListener=t.eventHandler.removeListener,this.receive=t.eventHandler.receive,this.verifyAndReceive=tu.bind(null,t)}});function th(e,t,n){let r="function"==typeof t?t.endpoint(n):e.request.endpoint(t,n),i="function"==typeof t?t:e.request,o=r.method,a=r.headers,s=r.url;return{[Symbol.asyncIterator]:()=>({async next(){if(!s)return{done:!0};try{let e=await i({method:o,url:s,headers:a}),t=function(e){if(!e.data)return{...e,data:[]};if(!(("total_count"in e.data||"total_commits"in e.data)&&!("url"in e.data)))return e;let t=e.data.incomplete_results,n=e.data.repository_selection,r=e.data.total_count,i=e.data.total_commits;delete e.data.incomplete_results,delete e.data.repository_selection,delete e.data.total_count,delete e.data.total_commits;let o=Object.keys(e.data)[0],a=e.data[o];return e.data=a,void 0!==t&&(e.data.incomplete_results=t),void 0!==n&&(e.data.repository_selection=n),e.data.total_count=r,e.data.total_commits=i,e}(e);if(!(s=((t.headers.link||"").match(/<([^<>]+)>;\s*rel="next"/)||[])[1])&&"total_commits"in t.data){let e=new URL(t.url),n=e.searchParams,r=parseInt(n.get("page")||"1",10),i=parseInt(n.get("per_page")||"250",10);r*i<t.data.total_commits&&(n.set("page",String(r+1)),s=e.toString())}return{value:t}}catch(e){if(409!==e.status)throw e;return s="",{value:{status:200,headers:{},data:[]}}}}})}}var tf=Object.assign(function(e,t,n,r){return"function"==typeof n&&(r=n,n=void 0),function e(t,n,r,i){return r.next().then(o=>{if(o.done)return n;let a=!1;return(n=n.concat(i?i(o.value,function(){a=!0}):o.value.data),a)?n:e(t,n,r,i)})}(e,[],th(e,t,n)[Symbol.asyncIterator](),r)},{iterator:th});async function ty(e,t){return e.octokit.auth({type:"installation",installationId:t,factory(e){let n={...e.octokitOptions,authStrategy:eB,auth:{...e,installationId:t}};return new e.octokit.constructor(n)}})}async function tg(e,t){let n=tm(e)[Symbol.asyncIterator](),r=await n.next();for(;!r.done;)await t(r.value),r=await n.next()}function tm(e){return{async *[Symbol.asyncIterator](){for await(let{data:t}of tf.iterator(e.octokit,"GET /app/installations"))for(let n of t){let t=await ty(e,n.id);yield{octokit:t,installation:n}}}}}async function t_(e,t,n){let r=tk(e,n?t:void 0)[Symbol.asyncIterator](),i=await r.next();for(;!i.done;)n?await n(i.value):await t(i.value),i=await r.next()}function tk(e,t){return{async *[Symbol.asyncIterator](){var n;for await(let{octokit:r}of t?(n=t.installationId,{async *[Symbol.asyncIterator](){yield{octokit:await e.getInstallationOctokit(n)}}}):e.eachInstallation.iterator())for await(let{data:e}of tf.iterator(r,"GET /installation/repositories"))for(let t of e)yield{octokit:r,repository:t}}}}async function tb(e){let{data:t}=await e.octokit.request("GET /app");if(!t)throw Error("[@octokit/app] unable to fetch metadata for app");return`${t.html_url}/installations/new`}var tw=class{static VERSION="16.1.2";static defaults(e){return class extends this{constructor(...t){super({...e,...t[0]})}}}octokit;webhooks;oauth;getInstallationOctokit;eachInstallation;eachRepository;getInstallationUrl;log;constructor(e){let t=e.Octokit||J,n={authStrategy:eB,auth:Object.assign({appId:e.appId,privateKey:e.privateKey},e.oauth?{clientId:e.oauth.clientId,clientSecret:e.oauth.clientSecret}:{})};"log"in e&&void 0!==e.log&&(n.log=e.log),this.octokit=new t(n),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},e.log),e.webhooks?this.webhooks=function(e,t){return new td({secret:t.secret,transform:async t=>{if(!("installation"in t.payload)||"object"!=typeof t.payload.installation){let n=new e.constructor({authStrategy:eJ,auth:{reason:'"installation" key missing in webhook event payload'}});return{...t,octokit:n}}let n=t.payload.installation.id,r=await e.auth({type:"installation",installationId:n,factory:e=>new e.octokit.constructor({...e.octokitOptions,authStrategy:eB,auth:{...e,installationId:n}})});return r.hook.before("request",e=>{e.headers["x-github-delivery"]=t.id}),{...t,octokit:r}}})}(this.octokit,e.webhooks):Object.defineProperty(this,"webhooks",{get(){throw Error("[@octokit/app] webhooks option not set")}}),e.oauth?this.oauth=new e8({...e.oauth,clientType:"github-app",Octokit:t}):Object.defineProperty(this,"oauth",{get(){throw Error("[@octokit/app] oauth.clientId / oauth.clientSecret options are not set")}}),this.getInstallationOctokit=ty.bind(null,this),this.eachInstallation=function(e){return Object.assign(tg.bind(null,e),{iterator:tm.bind(null,e)})}(this),this.eachRepository=function(e){return Object.assign(t_.bind(null,e),{iterator:tk.bind(null,e)})}(this),this.getInstallationUrl=function(e){let t;return async function(n={}){t||(t=tb(e));let r=new URL(await t);return void 0!==n.target_id&&(r.pathname+="/permissions",r.searchParams.append("target_id",n.target_id.toFixed())),void 0!==n.state&&r.searchParams.append("state",n.state),r.href}}(this)}}}};