"use strict";(()=>{var e={};e.id=502,e.ids=[502],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7178:(e,t,s)=>{s.r(t),s.d(t,{originalPathname:()=>g,patchFetch:()=>m,requestAsyncStorage:()=>d,routeModule:()=>p,serverHooks:()=>h,staticGenerationAsyncStorage:()=>l});var r={};s.r(r),s.d(r,{POST:()=>c,dynamic:()=>u});var o=s(9303),n=s(8716),a=s(670),i=s(7070);let u="force-dynamic";async function c(e){try{let{apiKey:t,keyType:s,problemDescription:r}=await e.json();if(!t||!r)return i.NextResponse.json({success:!1,error:"Missing required fields"},{status:400});if("oauth_token"===s)return i.NextResponse.json({success:!1,error:"OAuth tokens can only be used with Claude Code CLI, not direct API calls. Please use a regular API key for testing, or save this OAuth token and use it in GitHub issues."},{status:400});let o=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"anthropic-version":"2023-06-01","content-type":"application/json","x-api-key":t},body:JSON.stringify({model:"claude-sonnet-4-20250514",max_tokens:1024,messages:[{role:"user",content:`You are a helpful coding assistant. A user has described the following problem they want help with:

${r}

Please provide a helpful response. If this is a coding issue, suggest potential solutions or debugging steps. Keep your response concise but helpful.`}]})});if(!o.ok){let e=await o.json().catch(()=>({}));if(401===o.status)return i.NextResponse.json({success:!1,error:"API key is invalid or expired"},{status:400});return i.NextResponse.json({success:!1,error:e.error?.message||`API error: ${o.status}`},{status:400})}let n=await o.json(),a=n.content?.[0]?.text||"No response received";return i.NextResponse.json({success:!0,response:a,model:n.model,usage:n.usage})}catch(e){return console.error("Test direct error:",e),i.NextResponse.json({success:!1,error:"Failed to test API"},{status:500})}}let p=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/test-direct/route",pathname:"/api/test-direct",filename:"route",bundlePath:"app/api/test-direct/route"},resolvedPagePath:"/Users/muralivvrsngurajapu/claude-bot/frontend/app/api/test-direct/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:d,staticGenerationAsyncStorage:l,serverHooks:h}=p,g="/api/test-direct/route";function m(){return(0,a.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:l})}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[276,972],()=>s(7178));module.exports=r})();