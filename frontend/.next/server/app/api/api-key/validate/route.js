"use strict";(()=>{var e={};e.id=74,e.ids=[74],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2172:(e,t,a)=>{a.r(t),a.d(t,{originalPathname:()=>h,patchFetch:()=>k,requestAsyncStorage:()=>l,routeModule:()=>p,serverHooks:()=>c,staticGenerationAsyncStorage:()=>v});var r={};a.r(r),a.d(r,{POST:()=>d,dynamic:()=>u});var s=a(9303),i=a(8716),o=a(670),n=a(7070);let u="force-dynamic";async function d(e){try{let{apiKey:t,keyType:a}=await e.json();if(!t)return n.NextResponse.json({valid:!1,error:"API key is required"},{status:400});if("api_key"===a&&!t.startsWith("sk-ant-"))return n.NextResponse.json({valid:!1,error:'API key should start with "sk-ant-"'},{status:400});if("oauth_token"===a){if(!t.startsWith("sk-ant-")||!t.includes("-oat"))return n.NextResponse.json({valid:!1,error:'OAuth token should start with "sk-ant-oat"'},{status:400});return n.NextResponse.json({valid:!0,warning:"OAuth token format valid. Will be used with Claude Code CLI."})}let r=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"anthropic-version":"2023-06-01","content-type":"application/json","x-api-key":t},body:JSON.stringify({model:"claude-3-haiku-20240307",max_tokens:1,messages:[{role:"user",content:"hi"}]})});if(r.ok)return n.NextResponse.json({valid:!0});if(401===r.status)return n.NextResponse.json({valid:!1,error:"Invalid API key or token"},{status:400});if(429===r.status)return n.NextResponse.json({valid:!0,warning:"Rate limited - key appears valid"});if(400===r.status)return n.NextResponse.json({valid:!0});let s=await r.json().catch(()=>({}));return n.NextResponse.json({valid:!1,error:s.error?.message||`Validation failed (${r.status})`},{status:400})}catch(e){return console.error("API key validation error:",e),n.NextResponse.json({valid:!1,error:"Network error during validation"},{status:500})}}let p=new s.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/api-key/validate/route",pathname:"/api/api-key/validate",filename:"route",bundlePath:"app/api/api-key/validate/route"},resolvedPagePath:"/Users/muralivvrsngurajapu/claude-bot/frontend/app/api/api-key/validate/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:l,staticGenerationAsyncStorage:v,serverHooks:c}=p,h="/api/api-key/validate/route";function k(){return(0,o.patchFetch)({serverHooks:c,staticGenerationAsyncStorage:v})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[276,972],()=>a(2172));module.exports=r})();