"use strict";(()=>{var e={};e.id=74,e.ids=[74],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2172:(e,t,a)=>{a.r(t),a.d(t,{originalPathname:()=>k,patchFetch:()=>h,requestAsyncStorage:()=>l,routeModule:()=>d,serverHooks:()=>v,staticGenerationAsyncStorage:()=>c});var r={};a.r(r),a.d(r,{POST:()=>p,dynamic:()=>u});var s=a(9303),i=a(8716),o=a(670),n=a(7070);let u="force-dynamic";async function p(e){try{let{apiKey:t,keyType:a}=await e.json();if(!t)return n.NextResponse.json({valid:!1,error:"API key is required"},{status:400});if("api_key"===a&&!t.startsWith("sk-ant-"))return n.NextResponse.json({valid:!1,error:'API key should start with "sk-ant-"'},{status:400});let r={"anthropic-version":"2023-06-01","content-type":"application/json"};"oauth_token"===a?r.Authorization=`Bearer ${t}`:r["x-api-key"]=t;let s=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:r,body:JSON.stringify({model:"claude-3-haiku-20240307",max_tokens:1,messages:[{role:"user",content:"hi"}]})});if(s.ok)return n.NextResponse.json({valid:!0});if(401===s.status)return n.NextResponse.json({valid:!1,error:"Invalid API key or token"},{status:400});if(429===s.status)return n.NextResponse.json({valid:!0,warning:"Rate limited - key appears valid"});if(400===s.status)return n.NextResponse.json({valid:!0});let i=await s.json().catch(()=>({}));return n.NextResponse.json({valid:!1,error:i.error?.message||`Validation failed (${s.status})`},{status:400})}catch(e){return console.error("API key validation error:",e),n.NextResponse.json({valid:!1,error:"Network error during validation"},{status:500})}}let d=new s.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/api-key/validate/route",pathname:"/api/api-key/validate",filename:"route",bundlePath:"app/api/api-key/validate/route"},resolvedPagePath:"/Users/muralivvrsngurajapu/claude-bot/frontend/app/api/api-key/validate/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:l,staticGenerationAsyncStorage:c,serverHooks:v}=d,k="/api/api-key/validate/route";function h(){return(0,o.patchFetch)({serverHooks:v,staticGenerationAsyncStorage:c})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[276,972],()=>a(2172));module.exports=r})();